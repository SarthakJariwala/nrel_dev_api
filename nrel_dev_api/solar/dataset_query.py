# AUTOGENERATED! DO NOT EDIT! File to edit: 02_solar.dataset_query.ipynb (unless otherwise specified).

__all__ = ['SolarDatasetQuery']

# Cell
from .._core import _GetPostRequest

# TODO - add attributes in docstring, add checks for data inputs
class SolarDatasetQuery(_GetPostRequest):

    """Returns information on the closest climate data for a location.
    """

    QUERY_URL = "/api/solar/data_query/v1.json"

    def __init__(self,
                 api_key,
                 lat=None,
                 lon=None,
                 address=None,
                 radius=100,
                 return_all_stations=False,
                ):

        super().__init__()

        self._params.update({
            "api_key" : api_key,
            "radius" : radius,
            "all" : 0 if return_all_stations is False else 1,
        })

        # if address is not specified latitude and longitude must be specified
        if not address:
            self._params.update({"lat" : lat, "lon" : lon})
        else:
            self._params.update({"address": address})

        self.response = self._get()

        # only outputs
        self.outputs = self.response["outputs"]

        # get the inputs provided
        self.inputs = self.response["inputs"]